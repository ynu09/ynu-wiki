<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Omok Game</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
    table { border-collapse: collapse; margin: 0 auto; }
    td { width: 30px; height: 30px; border: 1px solid black; text-align: center; vertical-align: middle; font-size: 24px; cursor: pointer; }
    td:hover { background-color: #f0f0f0; }
    h2 { margin-bottom: 20px; }
  </style>
</head>
<body>
  <h2>오목 게임</h2>
  <table id="board"></table>
  <p>턴: <span id="turn">●</span></p>

  <script>
    const size = 10; // 보드 크기
    const board = document.getElementById('board');
    const turnDisplay = document.getElementById('turn');
    let turn = '●';

    function checkWin(x, y, player) {
      const directions = [
        [[1,0],[-1,0]], // 가로
        [[0,1],[0,-1]], // 세로
        [[1,1],[-1,-1]], // 대각선 \
        [[1,-1],[-1,1]] // 대각선 /
      ];

      for (let dir of directions) {
        let count = 1;
        for (let d of dir) {
          let nx = x + d[0], ny = y + d[1];
          while(nx >=0 && ny>=0 && nx<size && ny<size && board.rows[ny].cells[nx].textContent === player){
            count++;
            nx += d[0]; ny += d[1];
          }
        }
        if(count >= 5) return true;
      }
      return false;
    }

    for(let y=0;y<size;y++){
      let tr = document.createElement('tr');
      for(let x=0;x<size;x++){
        let td = document.createElement('td');
        td.addEventListener('click',()=>{
          if(td.textContent===''){
            td.textContent = turn;
            if(checkWin(x,y,turn)){
              alert(turn + " 승리!");
              // 게임 초기화
              for(let r=0;r<size;r++){
                for(let c=0;c<size;c++){
                  board.rows[r].cells[c].textContent='';
                }
              }
              turn='●';
              turnDisplay.textContent = turn;
              return;
            }
            turn = (turn==='●')?'○':'●';
            turnDisplay.textContent = turn;
          }
        });
        tr.appendChild(td);
      }
      board.appendChild(tr);
    }
  </script>
</body>
</html>
